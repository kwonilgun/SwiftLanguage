import Swift

//ìž…ì¶œë ¥ ë§¤ê°œë³€ìˆ˜
//í•¨ìˆ˜ íŒŒë¼ë¯¸í„°ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ìƒìˆ˜ìž…ë‹ˆë‹¤. í•´ë‹¹ í•¨ìˆ˜ì˜ ë°”ë”” ë‚´ì—ì„œ í•¨ìˆ˜ íŒŒë¼ë¯¸í„° ê°’ì„ ë³€ê²½í•˜ë ¤ê³  í•˜ë©´ ì»´íŒŒì¼ íƒ€ì¼ ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤. ì´ê²ƒì€ ì‹¤ìˆ˜ë¡œ íŒŒë¼ë¯¸í„°ì˜ ê°’ì„ ë³€ê²½í•  ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. í•¨ìˆ˜ì˜ íŒŒë¼ë¯¸í„° ê°’ì„ ë³€ê²½í•˜ê³  í•¨ìˆ˜ í˜¸ì¶œì´ ì¢…ë£Œëœ í›„ì—ë„ ì´ëŸ¬í•œ ë³€ê²½ëœ ê°’ì„ ìœ ì§€í•˜ê³  ì‹¶ë‹¤ë©´ in-out íŒŒë¼ë¯¸í„° (in-out parameter) ë¡œ ëŒ€ì‹  ì •ì˜í•˜ì‹­ì‹œì˜¤.
//in-out íŒŒë¼ë¯¸í„°ëŠ” íŒŒë¼ë¯¸í„°ì˜ íƒ€ìž… ë°”ë¡œ ì „ì— inout í‚¤ì›Œë“œë¥¼ ìž‘ì„±í•©ë‹ˆë‹¤. in-out íŒŒë¼ë¯¸í„°ëŠ” í•¨ìˆ˜ë¡œ ì „ë‹¬í•˜ëŠ” ê°’ì„ ê°€ì§€ê³  ìžˆê³  í•¨ìˆ˜ë¡œ ë¶€í„° ì´ ê°’ì„ ìˆ˜ì •í•˜ê³  ì›ëž˜ ê°’ì„ ëŒ€ì²´í•˜ê¸°ìœ„í•´ í•¨ìˆ˜ ë°–ìœ¼ë¡œ ë‹¤ì‹œ ë˜ëŒë ¤ ì¤ë‹ˆë‹¤. In-out íŒŒë¼ë¯¸í„°ì™€ ì»´íŒŒì¼ëŸ¬ ìµœì í™”ì˜ ë™ìž‘ì— ëŒ€í•œ ìžì„¸í•œ ì„¤ëª…ì€ In-Out íŒŒë¼ë¯¸í„° (In-Out Parameters) ë¥¼ ì°¸ê³  ë°”ëžë‹ˆë‹¤.
//in-out íŒŒë¼ë¯¸í„°ì˜ ì¸ìžë¡œ ë³€ìˆ˜ë§Œ ì „ë‹¬í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ìƒìˆ˜ì™€ ë°˜ë³µì€ ìˆ˜ì •í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ì¸ìžë¡œ ìƒìˆ˜ ë˜ëŠ” ë°˜ë³µ ê°’ì€ ì „ë‹¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. í•¨ìˆ˜ì— ìˆ˜ì •ê°€ëŠ¥í•¨ì„ ì•Œë¦¬ê¸° ìœ„í•´ in-out íŒŒë¼ë¯¸í„°ì— ì¸ìžë¡œ ì „ë‹¬í•  ë•Œ ë³€ìˆ˜ì˜ ì´ë¦„ ì•žì— ì•°í¼ìƒŒë“œ (&)ë¥¼ ë¶™ì—¬ì¤ë‹ˆë‹¤
//inoutì˜ ì›ë¦¬

//inout ë§¤ê°œë³€ìˆ˜ëŠ” ë‹¤ìŒì˜ ê³¼ì •ì„ ê±°ì¹œë‹¤.
//
//1. í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ë©´, ë§¤ê°œë³€ìˆ˜ë¡œ ë„˜ê²¨ì§„ ë³€ìˆ˜ê°€ ë³µì‚¬ëœë‹¤.
//2, í•¨ìˆ˜ ëª¸ì²´ì—ì„œ, ë³µì‚¬í•œ ê°’ì„ ìˆ˜ì •í•œë‹¤.
//3. í•¨ìˆ˜ê°€ ë°˜í™˜ë  ë•Œ, ë³€í™”ëœ ê°’ì„ ì›ë³¸ ë³€ìˆ˜ì— ìž¬í• ë‹¹í•œë‹¤.
//ì´ ë™ìž‘ì„ copy-in copy-out í˜¹ì€ call by value result ë¼ê³  ë¶€ë¥´ë©° inoutì€ ì‹¤ì œë¡œ copy-in copy-outì˜ ì¤„ìž„ë§ ì´ë‹¤.

func addInout(_ name: inout Int) {
    //var local = name
    print(name)
    
    name += 1   // nameì€ ìž…ì¶œë ¥ íŒŒë¼ë¯¸í„°ì´ê¸° ë•Œë¬¸ì— ê°’ì„ ë³€ê²½í•  ìˆ˜ ìžˆë‹¤. ë³€ìˆ˜ì´ë‹¤. ìƒìˆ˜ê°€ ì•„ë‹ˆë‹¤.
}

var data: Int = 10
addInout(&data)
print(data)

func addParameter(name:  Int) -> Int {
    // name = 5 //Cannot assign to value: 'name' is a 'let' constant ðŸ’‡â€â™€ï¸ : ì¦‰ ë§¤ê°œë³€ìˆ˜ëŠ” ìƒìˆ˜ì´ê¸° ë•Œë¬¸ì— ê°’ì„ ë³€ê²½í•  ìˆ˜ ì—†ë‹¤. ê°’ì„ ë³€ê²½í•˜ê¸° ìœ„í•´ì„œëŠ” inoutì„ íƒ€ìž… ì•žì— ì„ ì–¸ì„ í•´ ì£¼ì–´ì•¼ í•œë‹¤.
    return name + 10
}


//In-Out íŒŒë¼ë¯¸í„°(In-Out Parameters)'
//aëŠ” ë³€ìˆ˜ê°€ ë˜ê³  someIntê°’ì„ aì— ë³µì‚¬í•˜ê³ , ì´ ê°’ì„ ìž„ì˜ìˆ˜ ì €ìž¥ì— ë³µì‚¬í•œë‹¤. ê·¸ë¦¬ê³  bì— ì´ ê°’ì„ ì €ìž¥í•œë‹¤. bê°’ì„ aì— ë³µì‚¬, bì— ìž„ì‹œ ì €ìž¥ê°’ì„ ì¹´í”¼í•˜ê³  ê·¸ë¦¬ê³  a,b ê°’ì„ ë‹¤ì‹œ someInt, anotherIntì— ì¹´í”¼í•œë‹¤.
//ðŸ§šâ€â™€ï¸: aê°€ ë³€ìˆ˜ê°€ ë˜ê¸° ë•Œë¬¸ì— copy-in ì´ ê°€ëŠ¥í•˜ê³ , ì¦‰ aì— ê°’ì„ ì¹´í”¼í•˜ê³ , bë„ ë³€ìˆ˜ê°€ ë˜ê¸° ë•Œë¬¸ì— ë³€ê²½ì´ ê°€ëŠ¥í•˜ê³ , ê²°êµ­ ì²˜ë¦¬ê°€ ë˜ë©´ í•¨ìˆ˜ê°€ ì¢…ë£Œë¥¼ í•˜ë©´ a,bëŠ” someIntì™€ anotherIntì— ì¹´í”¼ì•„ì›ƒì´ ëœë‹¤. 
func swapTwoInts(_ a: inout Int, _ b:inout Int) {
    let temporaryA = a
    a = b
    b = temporaryA
}

var someInt = 3
var anotherInt = 107

swapTwoInts(&someInt, &anotherInt)

print("someInt is now \(someInt), and anotherInt is now \(anotherInt)")



//()->Int í•¨ìˆ˜ë¥¼ ë¦¬í„´í•œë‹¤. aëŠ” ë³€ê²½ê°€ëŠ¥í•œ íŒŒë¼ë¯¸í„°ê°€ ëœë‹¤. [a]ëŠ” ê°’ì„ ìº¡ì³í•œë‹¤. [a]ëŠ” íšë“ëª©ë¡ì´ë‹¤.

func someFunction(a: inout Int) -> () -> Int {
    return { [a] in
            return a + 1
        
    }
}


var someData: Int = 10

var ft: ()->Int = someFunction(a: &someData)

print(String(ft()))

print(someData)
